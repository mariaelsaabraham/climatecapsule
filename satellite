<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Climate Change Time Capsule - NASA Earth Data</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">
<style>
/* Global Styles */
* { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
body { background: #0a0f1b; color: #e0e0e0; line-height: 1.6; }
h1,h2,h3 { color: #ffffff; }
a { color: #4fc3f7; text-decoration: none; }
.container { width: 90%; max-width: 1200px; margin: 0 auto; padding: 2rem 0; }

/* Header */
header { text-align: center; margin-bottom: 3rem; }
header h1 { font-size: 2.5rem; margin-bottom: 0.5rem; color: #4fc3f7; }
header .subtitle { color: #b0bec5; font-size: 1.1rem; }

/* Sections */
section { margin-bottom: 3rem; }
.intro p { color: #b0bec5; font-size: 1.1rem; text-align: center; }

/* Forms */
.search-form, .search-satellite { display: flex; justify-content: center; margin-bottom: 2rem; }
.search-input, #satelliteInput {
    padding: 0.8rem 1rem;
    width: 300px;
    border-radius: 50px;
    border: 1px solid #4fc3f7;
    outline: none;
    font-size: 1rem;
    background: rgba(30,30,46,0.85);
    color: #e0e0e0;
}
.search-input::placeholder, #satelliteInput::placeholder { color: #b0bec5; }

.search-btn, #satelliteBtn {
    padding: 0.8rem 1.5rem;
    margin-left: 0.5rem;
    border-radius: 50px;
    border: 1px solid #4fc3f7;
    background: #4fc3f7;
    color: #0a1929;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
}
.search-btn:hover, #satelliteBtn:hover { background: transparent; color: #4fc3f7; }

/* Suggestions */
.suggestions-grid { display: flex; flex-wrap: wrap; justify-content: center; gap: 0.8rem; margin-top: 1rem; }
.suggestion-tag {
    padding: 0.5rem 1rem;
    background: rgba(30,30,46,0.6);
    border: 1px solid #4fc3f7;
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.3s ease;
}
.suggestion-tag:hover { background: #4fc3f7; color: #0a1929; }

/* Loading */
.loading { display: none; text-align: center; margin: 2rem 0; }
.loading.active { display: block; }
.spinner { border: 4px solid #1e1e2e; border-top: 4px solid #4fc3f7; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 0 auto 1rem; }
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

/* Error */
.error-message { color: #ff6b6b; text-align: center; margin: 1rem 0; display: none; }
.error-message.active { display: block; }

/* Climate Data Section */
.climate-data { display: none; }
.climate-data.active { display: block; }
.location-header { text-align: center; margin-bottom: 2rem; }
.location-header h2 { font-size: 2rem; color: #4fc3f7; }
.last-updated { color: #b0bec5; margin-top: 0.3rem; }

/* NASA Image */
.nasa-image { width: 100%; max-height: 300px; object-fit: cover; border-radius: 12px; margin-bottom: 1rem; box-shadow: 0 5px 15px rgba(0,0,0,0.5); }
.image-caption { text-align: center; color: #b0bec5; font-style: italic; margin-bottom: 0.5rem; }

/* Satellite Description */
.satellite-description { color:#b0bec5; text-align:center; margin-top:1rem; font-size:1rem; line-height:1.4; }

/* Climate Grid */
.climate-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 1.5rem; margin-bottom: 2rem; }
.climate-card { background: rgba(30,30,46,0.85); padding: 1rem; border-radius: 12px; text-align: center; box-shadow: 0 5px 15px rgba(0,0,0,0.4); transition: transform 0.3s ease; }
.climate-card:hover { transform: translateY(-5px); }
.climate-icon i { font-size: 2rem; color: #4fc3f7; margin-bottom: 0.5rem; }
.climate-value { font-size: 1.5rem; margin-bottom: 0.3rem; }
.climate-label { font-size: 0.9rem; color: #b0bec5; }

/* Climate Details */
.climate-details { display: flex; flex-wrap: wrap; gap: 2rem; }
.detail-card { background: rgba(30,30,46,0.85); padding: 1rem; border-radius: 12px; flex: 1 1 300px; box-shadow: 0 5px 15px rgba(0,0,0,0.4); }
.detail-item { display: flex; justify-content: space-between; margin: 0.5rem 0; }
.detail-label { color: #b0bec5; }

/* Satellite Section */
.satellite-section { margin: 3rem 0; }
.satellite-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.8rem; }
.satellite-card { background: rgba(30,30,46,0.85); border-radius: 16px; overflow: hidden; box-shadow: 0 10px 25px rgba(0,0,0,0.4); border: 1px solid rgba(255,255,255,0.1); transition: transform 0.3s ease, box-shadow 0.3s ease; backdrop-filter: blur(5px); }
.satellite-card:hover { transform: translateY(-5px); box-shadow: 0 15px 30px rgba(0,0,0,0.5); }
.satellite-card img { width: 100%; height: 180px; object-fit: cover; transition: transform 0.5s ease; }
.satellite-card:hover img { transform: scale(1.05); }
.satellite-card .caption { padding: 1rem; color: #b0bec5; font-size: 1rem; text-align: center; }

/* Footer */
footer { text-align: center; padding: 2rem 0; color: #b0bec5; font-size: 0.9rem; border-top: 1px solid rgba(255,255,255,0.1); margin-top: 3rem; }
</style>
</head>
<body>

<header>
  <h1>Climate Change Time Capsule</h1>
  <p class="subtitle">Explore Earth's climate data through NASA satellite imagery</p>
</header>

<div class="container">
  <section class="intro">
    <p>Discover climate change impacts through NASA's Earth observation data. Explore satellite imagery, sea level changes, ice mass loss, CO₂ concentration, and more from NASA's extensive climate databases.</p>
  </section>

  <section class="search-section">
    <h2>Search Climate Data</h2>
    <form class="search-form" id="climateForm">
      <input type="text" class="search-input" id="locationInput" placeholder="Enter region, landmark, or city..." required>
      <button type="submit" class="search-btn"><i class="fas fa-search"></i> Search</button>
    </form>
    <div class="suggestions">
      <p>Try these climate phenomena or enter any region/city:</p>
      <div class="suggestions-grid" id="suggestionsGrid"></div>
    </div>
  </section>

  <div class="loading" id="loadingIndicator">
    <div class="spinner"></div>
    <p>Fetching NASA Earth data...</p>
  </div>

  <div class="error-message" id="errorMessage"></div>

  <section class="climate-data" id="climateData">
    <div class="location-header">
      <h2 id="locationName">Location Name</h2>
      <div class="last-updated" id="lastUpdated">Last updated: --</div>
    </div>

    <div id="nasaImageContainer"></div>
    <div class="satellite-description" id="satelliteDescription"></div>

    <div class="climate-grid">
      <div class="climate-card">
        <div class="climate-icon"><i class="fas fa-water"></i></div>
        <div class="climate-value" id="seaLevel">--</div>
        <div class="climate-label">Sea Level Rise</div>
      </div>
      <div class="climate-card">
        <div class="climate-icon"><i class="fas fa-mountain"></i></div>
        <div class="climate-value" id="iceLoss">--</div>
        <div class="climate-label">Ice Mass Loss</div>
      </div>
      <div class="climate-card">
        <div class="climate-icon"><i class="fas fa-cloud"></i></div>
        <div class="climate-value" id="co2">--</div>
        <div class="climate-label">CO₂ Concentration</div>
      </div>
    </div>

    <div class="climate-details">
      <div class="detail-card">
        <h3>Climate Indicators</h3>
        <div class="detail-item"><span class="detail-label">Global Temperature</span><span class="detail-value" id="globalTemp">--</span></div>
        <div class="detail-item"><span class="detail-label">Arctic Sea Ice</span><span class="detail-value" id="arcticIce">--</span></div>
        <div class="detail-item"><span class="detail-label">Ocean Heat Content</span><span class="detail-value" id="oceanHeat">--</span></div>
        <div class="detail-item"><span class="detail-label">Glacier Retreat</span><span class="detail-value" id="glacierRetreat">--</span></div>
      </div>
      <div class="detail-card">
        <h3>Climate Trends</h3>
        <div class="detail-item"><span class="detail-label">Sea Level Trend</span><span class="detail-value" id="seaTrend">-- mm/yr</span></div>
        <div class="detail-item"><span class="detail-label">Ice Loss Trend</span><span class="detail-value" id="iceTrend">-- Gt/yr</span></div>
        <div class="detail-item"><span class="detail-label">CO₂ Trend</span><span class="detail-value" id="co2Trend">-- ppm</span></div>
      </div>
    </div>
  </section>

  <section class="satellite-section">
    <h2 class="section-title">Explore Satellite Images</h2>
    <div class="search-satellite">
        <input type="text" id="satelliteInput" placeholder="Enter a city, region, or landmark">
        <button id="satelliteBtn">Search</button>
    </div>
    <div id="satelliteResults" class="satellite-grid"></div>
  </section>
</div>

<footer>
  <p>Climate Change Time Capsule | Data Source: NASA Earth Observatory & Climate APIs</p>
  <p>Educational project to visualize climate change impacts using NASA data</p>
</footer>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const climateForm = document.getElementById('climateForm');
  const locationInput = document.getElementById('locationInput');
  const climateDataSection = document.getElementById('climateData');
  const loadingIndicator = document.getElementById('loadingIndicator');
  const errorMessage = document.getElementById('errorMessage');
  const suggestionsGrid = document.getElementById('suggestionsGrid');
  const nasaImageContainer = document.getElementById('nasaImageContainer');
  const satelliteDescription = document.getElementById('satelliteDescription');

  const climatePhenomena = [
    'Arctic Sea Ice','Amazon Deforestation','Great Barrier Reef','Greenland Ice Sheet','Antarctica','Glacier Retreat','Sea Level Rise','Coral Bleaching','Permafrost Thaw'
  ];

  const locationMap = {
    'arctic sea ice': { lat: 80, lon: 0 },
    'amazon deforestation': { lat: -3, lon: -65 },
    'great barrier reef': { lat: -18, lon: 147 },
    'greenland ice sheet': { lat: 72, lon: -40 },
    'antarctica': { lat: -75, lon: 0 },
    'glacier retreat': { lat: 46, lon: -121 },
    'sea level rise': { lat: 0, lon: 0 },
    'coral bleaching': { lat: -16, lon: 145 },
    'permafrost thaw': { lat: 65, lon: -150 }
  };

  climatePhenomena.forEach(phenomenon => {
    const tag = document.createElement('div');
    tag.className = 'suggestion-tag';
    tag.textContent = phenomenon;
    tag.addEventListener('click', () => {
      locationInput.value = phenomenon;
      climateForm.dispatchEvent(new Event('submit'));
    });
    suggestionsGrid.appendChild(tag);
  });

  climateForm.addEventListener('submit', async function(e) {
    e.preventDefault();
    const location = locationInput.value.trim();
    if (!location) return;

    loadingIndicator.classList.add('active');
    climateDataSection.classList.remove('active');
    errorMessage.classList.remove('active');

    try {
      let coords = locationMap[location.toLowerCase()];
      if (!coords) {
        const response = await fetch(https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(location)});
        const data = await response.json();
        if (!data.length) throw new Error('Location not found');
        coords = { lat: parseFloat(data[0].lat), lon: parseFloat(data[0].lon) };
      }

      function getNasaGIBSImage(lat, lon, width=1200, height=300) {
        const bboxSize = 2;
        const bbox = ${lat-bboxSize},${lon-bboxSize},${lat+bboxSize},${lon+bboxSize};
        return https://gibs.earthdata.nasa.gov/wms/epsg4326/best/wms.cgi?SERVICE=WMS&REQUEST=GetMap&VERSION=1.3.0&LAYERS=MODIS_Terra_CorrectedReflectance_TrueColor&STYLES=&FORMAT=image/png&CRS=EPSG:4326&BBOX=${bbox}&WIDTH=${width}&HEIGHT=${height};
      }

      const imageUrl = getNasaGIBSImage(coords.lat, coords.lon);
      nasaImageContainer.innerHTML = <img src="${imageUrl}" class="nasa-image" alt="${location}">;

      satelliteDescription.textContent = This satellite image of ${location} captured by NASA's MODIS instrument provides a detailed view of the region's geography and environmental features. You can observe landforms, vegetation, water bodies, ice cover, and urban areas. Monitoring these patterns over time helps scientists understand climate-related changes, human impact, and environmental health in the region. This visualization offers a clear perspective on how Earth's climate is evolving and highlights areas of significant change.;

      // Mock Climate Data
      const baseSeaLevel = 3.4 + Math.random()*0.8;
      const baseIceLoss = 280 + Math.random()*100;
      const baseCO2 = 420 + Math.random()*5;

      const climateData = {
        seaLevel: ${baseSeaLevel.toFixed(1)} mm/yr,
        iceLoss: -${Math.round(baseIceLoss)} Gt/yr,
        co2: ${baseCO2.toFixed(1)} ppm,
        globalTemp: ${(0.9+Math.random()*0.4).toFixed(2)}°C,
        arcticIce: -${(12+Math.random()*3).toFixed(1)}%,
        oceanHeat: ${(280+Math.random()*20).toFixed(0)} ZJ,
        glacierRetreat: -${(15+Math.random()*10).toFixed(1)} m/yr,
        trends: { sea: baseSeaLevel, ice: baseIceLoss*0.05, co2: 2 }
      };

      // Display Climate Data
      document.getElementById('locationName').textContent = location;
      document.getElementById('lastUpdated').textContent = Last updated: ${new Date().toLocaleString()};
      document.getElementById('seaLevel').textContent = climateData.seaLevel;
      document.getElementById('iceLoss').textContent = climateData.iceLoss;
      document.getElementById('co2').textContent = climateData.co2;
      document.getElementById('globalTemp').textContent = climateData.globalTemp;
      document.getElementById('arcticIce').textContent = climateData.arcticIce;
      document.getElementById('oceanHeat').textContent = climateData.oceanHeat;
      document.getElementById('glacierRetreat').textContent = climateData.glacierRetreat;
      document.getElementById('seaTrend').textContent = ${climateData.trends.sea.toFixed(2)} mm/yr;
      document.getElementById('iceTrend').textContent = ${climateData.trends.ice.toFixed(0)} Gt/yr;
      document.getElementById('co2Trend').textContent = ${climateData.trends.co2.toFixed(1)} ppm;

      climateDataSection.classList.add('active');
    } catch(err) {
      errorMessage.textContent = Unable to retrieve data: ${err.message};
      errorMessage.classList.add('active');
    } finally {
      loadingIndicator.classList.remove('active');
    }
  });

  // Satellite Search
  const satelliteBtn = document.getElementById('satelliteBtn');
  const satelliteInput = document.getElementById('satelliteInput');
  const satelliteResults = document.getElementById('satelliteResults');

  satelliteBtn.addEventListener('click', async () => {
    const query = satelliteInput.value.trim();
    if(!query) return;

    satelliteResults.innerHTML = '';
    try {
      const response = await fetch(https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(query)});
      const data = await response.json();
      if(!data.length) throw new Error('Location not found');
      const coords = { lat: parseFloat(data[0].lat), lon: parseFloat(data[0].lon) };

      const bboxSize = 2;
      const imageUrl = https://gibs.earthdata.nasa.gov/wms/epsg4326/best/wms.cgi?SERVICE=WMS&REQUEST=GetMap&VERSION=1.3.0&LAYERS=MODIS_Terra_CorrectedReflectance_TrueColor&STYLES=&FORMAT=image/png&CRS=EPSG:4326&BBOX=${coords.lat-bboxSize},${coords.lon-bboxSize},${coords.lat+bboxSize},${coords.lon+bboxSize}&WIDTH=600&HEIGHT=300;

      const card = document.createElement('div');
      card.className = 'satellite-card';
      card.innerHTML = `<img src="${imageUrl}" alt="${query}">
                        <div class="caption">${query} - NASA MODIS Image</div>
                        <div style="color:#b0bec5; text-align:center; margin-top:0.5rem; font-size:0.9rem;">
                          This satellite image of ${query} captured by NASA MODIS provides a detailed view of the region's landscape, including terrain, vegetation, water bodies, ice coverage, and urban development. Observing these features allows scientists and the public to monitor environmental changes, climate impact, and human influence over time, helping to visualize the effects of climate change in this specific region.
                        </div>`;
      satelliteResults.appendChild(card);
    } catch(err) {
      satelliteResults.innerHTML = <p style="color:red;text-align:center;">${err.message}</p>;
    }
  });
});
</script>
</body>
</html>
